<html><head>

    <link rel="stylesheet" href="../lib/vamonos.css">
    <link rel="stylesheet" href="demos.css">
    <script type="text/javascript" src="../deps/jquery.min.js"></script>
    <script type="text/javascript" src="../deps/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../lib/vamonos.js"></script>

</head><body>

    <h1>Longest Increasing Subsequence</h1>

    <div class="vamonos">
        <div class="container" id="pseudocode" title="LIS(A):">
            opt[0] = 0
            sol[0] = []
            for k = 1 to A.length
                opt[k] = 1
                sol[k] = [A[k]]
                for i = 1 to k-1
                    if A[i] &lt; A[k] and opt[k] &lt; opt[i] + 1
                        opt[k] = opt[i] + 1
                        sol[k] = sol[i] + [A[i]]
        </div>
        <br>
        <div id="controls"></div>
        <br>
        <div class="container" id="display"></div>
        <br>
        <div class="container" id="arrays"></div>
    </div>
</body>
<script type="text/javascript">
var myviz = new Vamonos.Visualizer({
    widgets: [
        new Vamonos.Widget.ParallelArrays({
            container: "arrays",
            showLabel: true,
            cssRules: [[">", "k", "shaded"]],
            showIndices: ["i", "k"],
            arrays: [
                {
                    varName: "A",
                    defaultInput: [0, 3,1,4,1,5,9,2,6,5],
                    ignoreIndexZero: true,
                },
                {
                    varName: "opt",
                    displayOnly: true
                },
                {
                    varName: "sol",
                    displayOnly: true,
                    cellFormat: function(x) { return x ? "["+x.join(",")+"]" : "" }
                }
            ]
        }),

        new Vamonos.Widget.VarDisplay({
            container: "display",
            watch: ["*i", "*k", "*opt", "*sol"]
        }),

        new Vamonos.Widget.Pseudocode({ container: "pseudocode" }),
        new Vamonos.Widget.Controls({ container: "controls" })
    ],
    algorithm: function (_) {
        with (this) {
_(1);       opt = [0]
_(2);       sol = [[]]
            for (var _k = 1; _k < A.length; _k++) {
_(3);           k = _k;
_(4);           opt[k] = 1;
_(5);           sol[k] = [A[k]];
                for(var _i=1; _i<k; _i++) {
_(6);               i = _i;
                    if (_(7), A[i] < A[k] && opt[k] < opt[i] + 1) {
_(8);                   opt[k] = opt[i] + 1;
_(9);                   sol[k] = sol[i].concat([A[k]]);
                    }
                }
                i = null;
            }
            k = null;
        }
    }
});
</script>
</html>

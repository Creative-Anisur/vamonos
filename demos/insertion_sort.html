<html>

<head>
    <link rel="stylesheet" href="dist/vamonos-all.css">
    <script src="dist/vamonos-all.js"></script>
</head>

<body>
    <table>
        <tr>
            <td>
                <div id="container-array"></div>
            </td>
            <td>
                <div id="code-and-controls">
                    <pre id="container-pseudocode">
                        INSERTION-SORT(A)
                        <b>for</b> j = 2 to A.length
                            key = A[j]
                            i = j - 1
                            <b>while</b> i &gt; 0 and A[i] &gt; key
                                A[i + 1]  = A[i]
                                i = i - 1
                            A[i + 1] = key
                    </pre>
                    <div id="viz-controls"></div>
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div id="container-i"></div>
                <div id="container-j"></div>
            </td>
        </tr>
    </table>

    <script>

        var myviz = new vamanos.Visualizer({

            pseudocode: "container-pseudocode",
            controls: "viz-controls",
            inputters: { A: new vamonos.inputters.Hardcoded([5, 2, 4, 6, 1, 3]) },
            varViewers: {

                A: new vamonos.viewers.Array({ container: "container-array" }),

                i: new vamonos.viewers.ArrayIndex({
                    parents: "A",
                    cssClass: "arr-index-i",
                    beforeClass: "arr-shaded-1",
                    afterClass: "arr-shaded-2",
                }),

                j: new vamonos.viewers.ArrayIndex({
                    parents: "A",
                    cssClass: "arr-index-j",
                    beforeClass: "arr-shaded-3",
                    afterClass: "arr-shaded-2",
                }),

                key: new vamonos.viewers.ArrayIndex({
                    parents: "A",
                    cssClass: "arr-index-key",
                    beforeClass: "arr-shaded-1",
                    afterClass: "arr-shaded-2",
                }),
            },

            generateViz: function (viz) {
                with (viz.vars) {
                    for (j = 2; j < A.length - 1; j++) {
                        key = A[j];                         viz.snapshot(2);
                        i = j - 1;
                        while (i > 0 && A[i] > key) {
                            A[i + 1] = A[i];                viz.snapshot(6);
                            i = i - 1;
                        }
                        A[i + 1] = key;                     viz.snapshot(8);
                    }
                }
            }

        });

    </script>

</body>
</html>

<html><head>

    <link rel="stylesheet" href="../lib/vamonos.css">
    <link rel="stylesheet" href="../demos/demos.css">
    <script type="text/javascript" src="../deps/jquery.min.js"></script>
    <script type="text/javascript" src="../deps/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../lib/vamonos.js"></script>

    <style type="text/css">
        .vamonos-col { 
            display: inline;
            float: left;
            text-align: center;
            margin: 8px;
        }
    </style>

</head><body>

    <h1>Typical recursion:</h1>

    <div class="vamonos-col">
        <div class="container" id="fact" title="Fact(n):">
            if n &le; 2
                return n
            ret = n * Fact(n-1)
            return ret
        </div><br>
        <div id="controls"></div><br>
    </div>
    <div class="vamonos-col">
        <div class="container" id="stack"></div><br>
    </div>


    <div style="height: 20px; clear: left"></div>
    <h1>Tail recursion:</h1>


    <div class="vamonos-col">
        <div class="container" id="fact2" title="Fact(n, acc):">
            if n &le; 1
                return acc
            ret = Fact(n-1, acc*n)
            return ret
        </div><br>
        <div id="controls2"></div><br>
    </div>
    <div class="vamonos-col">
        <div class="container" id="stack2"></div><br>
    </div>


</body><script>

var myviz = new Vamonos.Visualizer({
    widgets: [
        new Vamonos.Widget.Hardcoded({
            n: 10,
        }),

        new Vamonos.Widget.Console(),

        new Vamonos.Widget.Pseudocode({
            container: "fact",
            breakpoints: "all",
        }),

        new Vamonos.Widget.Controls({
            container: "controls",
            showWhileSliding: true,
        }),

        new Vamonos.Widget.CallStack({
            container: "stack",
            procedureNames: { 
                main: "Fact",
            },
        }),
    ],

    algorithm: function() {
_(1);   if (n <= 2) { 
_(2);       return n; 
        }
_(3);   ret = n * main({n : n-1});
_(4);   return ret;
    }
});


//////////////////////////

var myviz2 = new Vamonos.Visualizer({
    widgets: [
        new Vamonos.Widget.Hardcoded({
            n: 10,
        }),

        new Vamonos.Widget.Console(),

        new Vamonos.Widget.Pseudocode({
            container: "fact2",
            breakpoints: "all",
            procedureName: "fact"
        }),

        new Vamonos.Widget.Controls({
            container: "controls2",
            showWhileSliding: true,
        }),

        new Vamonos.Widget.CallStack({
            container: "stack2",
            procedureNames: { 
                fact: "Fact",
            },
        }),
    ],

    algorithm: {
        main: function() {
            return fact({ n: n, acc: 1});
        },
        fact: function() {
_(1);       if (n <= 1) { 
_(2);           return acc; 
            }
_(3);       ret = fact({n : n-1, acc: n*acc});
_(4);       return ret;
        }
    }
});



</script></html>

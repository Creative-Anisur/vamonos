<!doctype html>
<html>
	<head>  
		<meta charset="utf-8">
		<title>Unit Tests</title>
		<link rel="stylesheet" href="../node_modules/qunitjs/qunit/qunit.css">
		<script src="../node_modules/qunitjs/qunit/qunit.js"></script>
		<script type="text/javascript" src="../lib/vamonos.js"></script>
		<script>
			test("Queue Datastructure", function() {
				//test blank constructor
				var input = new Vamonos.DataStructure.Queue(); 
				deepEqual(input.guts, [], "test blank constructor");

				//test isEmpty with an empty queue
				equal(input.isEmpty(), true, "test isEmpty with an empty queue");

				//test enqueue of a single element
				input.enqueue("bob");
            	deepEqual(input.guts, ["bob"], "enqueue a single element");
            	equal(input.isEmpty(), false, "test isEmpty with a non empty queue");

            	//test isEMpty with a non empty queue

            	//test toString
            	equal(input.toString(), "[bob]", "test toString with the element");

            	//test dequeue
            	input.dequeue();
            	deepEqual(input.guts, [], "dequeue the element");

            	//test constructor with an initial array and comparator
            	var one = {x:12, y:5}; var two = {x:3, y:7};
            	var c = function(a,b){
            		                    if(a.x < b.x) return 1;
            		                    if(a.x > b.x) return -1;
            		                    return 0;
            	                     };
            	input = new Vamonos.DataStructure.Queue( {initialArray:[one,two], comparator:c} ); 
            	deepEqual(input.guts, [one, two], "test constructor");

            	//test extractMin which uses the comparator function to sort by x
            	holder = input.extractMin();
            	deepEqual(input.guts, [two], "test extractMin while sorting by x");

            	//replace comparator function to sort by y instead of x
            	input.comparator = function(a,b){
            		                    if(a.y < b.y) return 1;
            		                    if(a.y > b.y) return -1;
            		                    return 0;
            	                   };
            	input.enqueue(holder); //put the dequeued object back on for the nest test

            	//test extractMin using new comparator to sort by y
            	input.extractMin();
            	deepEqual(input.guts, [one], "test extractMin while sorting by y");

            	//test clone ***currently queue dies when clone is called***
            	//var input2 = input.clone();
            	//deepEqual(input2.guts, input.guts, "test clone function");
			});
		</script>
	</head>
	<body>
		<div id="qunit"></div>
	</body>
</html>
<html><head>
    <title>Vamonos CSS mockups</title>
    <link rel="stylesheet" type="text/css" href="../lib/vamonos.css">
    <link rel="stylesheet" type="text/css" href="tests.css">
    <script type="text/javascript" src="../deps/jquery.min.js"></script>
    <script type="text/javascript" src="../deps/jquery-ui.min.js"></script>
</head>
<body>

    <h1>Pseudocode Mockup</h1>

    <div id="pc" class="container">
        <table class="pseudocode">
            <tr class="pseudocode-header">
                <td colspan="3" class="pseudocode-title">InsertionSort(A):</td>
            </tr>
            <tr class="pseudocode-line">
                <td class="pseudocode-gutter"></td>
                <td class="pseudocode-line-number">1</td>
                <td class="pseudocode-text"><b>for</b> j = 2 <b>to</b> A.length</td>
            </tr>
            <tr class="pseudocode-line">
                <td class="pseudocode-gutter"></td>
                <td class="pseudocode-line-number">2</td>
                <td class="pseudocode-text"> <span class="pseudocode-indent"></span> key = A[j]</td>
            </tr>
            <tr class="pseudocode-line">
                <td class="pseudocode-gutter"></td>
                <td class="pseudocode-line-number"></td>
                <td class="pseudocode-comment"> <span class="pseudocode-indent"></span> // insert A[j] into sorted sequence A[1..j-1]</td>
            </tr>
            <tr class="pseudocode-line pseudocode-active">
                <td class="pseudocode-gutter"><div class="pseudocode-breakpoint"></div></td>
                <td class="pseudocode-line-number">3</td>
                <td class="pseudocode-text"> <span class="pseudocode-indent"></span> i = j - 1</td>
            </tr>
            <tr class="pseudocode-line">
                <td class="pseudocode-gutter"></td>
                <td class="pseudocode-line-number">4</td>
                <td class="pseudocode-text"> <span class="pseudocode-indent"></span> <b>while</b> i &gt; 0 <b>and</b> A[i] &gt; key</td>
            </tr>
            <tr class="pseudocode-line">
                <td class="pseudocode-gutter"></td>
                <td class="pseudocode-line-number">5</td>
                <td class="pseudocode-text"> <span class="pseudocode-indent"></span><span class="pseudocode-indent"></span> A[i+1] = A[i]</td>
            </tr>
            <tr class="pseudocode-line">
                <td class="pseudocode-gutter"><div class="pseudocode-breakpoint"></div></td>
                <td class="pseudocode-line-number">6</td>
                <td class="pseudocode-text"> <span class="pseudocode-indent"></span><span class="pseudocode-indent"></span> i = i - 1</td>
            </tr>
            <tr class="pseudocode-line">
                <td class="pseudocode-gutter"></td>
                <td class="pseudocode-line-number">7</td>
                <td class="pseudocode-text"> <span class="pseudocode-indent"></span> A[i+1] = key</td>
            </tr>
        </table>
    </div>

    <div class="container">
        <label><input id="cbtitle" type=checkbox checked> title</label> <br>
        <label><input id="cbgutter" type=checkbox checked> gutter</label> <br>
        <label><input id="cbline" type=checkbox checked> line numbers</label> <br>
        <label><input id="cbbreakpoints" type=checkbox checked> breakpoints</label> <br>
        <input type="submit" id="activeline" value="swap active line">
    </div>

    <script type="text/javascript">
        $("#cbgutter").change( function() {
            $("#pc").toggleClass("no-gutter");
        });
        $("#cbline").change( function() {
            $("#pc").toggleClass("no-line-numbers");
        });
        $("#cbtitle").change( function() {
            $("#pc tr:nth-child(1)").toggle();
        });
        $("#cbbreakpoints").change( function() {
            $("#pc .pseudocode-breakpoint").toggle();
        });
        $("#activeline").on( "click", function() {
            $("#pc tr:nth-child(5)").toggleClass("pseudocode-active");
            $("#pc tr:nth-child(6)").toggleClass("pseudocode-active");
        });
    </script>



    <h1>Array Mockup</h1>

    <div id="arr" class="container">
        <table class="array">
            <tr class="array-indices">
                <td class=shaded>1</td>
                <td class=shaded>2</td>
                <td class=shaded>3</td>
                <td>4</td>
                <td>5</td>
                <td>6</td>
            </tr>
            <tr class="array-cells">
                <td class=shaded>3</td>
                <td class=shaded>1</td>
                <td class=shaded>4</td>
                <td>1</td>
                <td>5</td>
                <td>9</td>
            </tr>
            <tr class="array-annotations">
                <td class=shaded></td>
                <td class=shaded>i</td>
                <td class=shaded></td>
                <td></td>
                <td>j</td>
                <td></td>
            </tr>
        </table>
    </div>


    <div class="container">
        <label><input id="cbindicesabove" type=checkbox> indices inside</label> <br>
        <label><input id="cbnoindices" type=checkbox> no indices</label> <br>
        <label><input id="cbshading" type=checkbox checked> shading</label> <br>
        <label><input id="cbannotations" type=checkbox checked> annotations</label> <br>
        <input type="submit" id="arrswap" value="swap elements">
    </div>

    <script type="text/javascript">
        $("#cbindicesabove").change( function() {
            $("#arr .changed").removeClass("changed");
            $("#arr").toggleClass("indices-inside");
        });
        $("#cbnoindices").change( function() {
            $("#arr .changed").removeClass("changed");
            $("#arr").toggleClass("no-indices");
        });
        $("#cbshading").change( function() {
            $("#arr tr.array-indices td:lt(3)").toggleClass("shaded");
            $("#arr tr.array-cells td:lt(3)").toggleClass("shaded");
            $("#arr tr.array-annotations td:lt(3)").toggleClass("shaded");
        });
        $("#cbannotations").change( function() {
            $("#arr tr.array-annotations").toggle();
        });

        var refresh = function (e) {
            e.addClass("changed");
            e.replaceWith( e.clone() );
        };
        var swap = function (e1, e2) {
            var tmp = e1.html();
            e1.html(e2.html());
            e2.html(tmp);
            refresh(e1);
            refresh(e2);
        };
        var swap2and5 = function (e) {
            var a2 = e.find(".array-cells td:nth-child(2)"),
                a5 = e.find(".array-cells td:nth-child(5)"),
                i2 = e.find(".array-indices td:nth-child(2)"),
                i5 = e.find(".array-indices td:nth-child(5)");

            swap(a2, a5);
            refresh(i2);
            refresh(i5);
        }

        $("#arrswap").on("click", function() {
            swap2and5( $("#arr") );
        });
    </script>


    <h1>Graph (vertex) Mockup</h1>

    <div id="graph" class="container" style="width:200px; height:100px;">
        <div class="graph-inner-container">
            <div id="v1" class="vertex" style="left: 88px; top: 38px;">
                <div class="vertex-contents">1</div>
            </div>
        </div>
    </div>

    <div class="container">
        <label><input id="cbdraggable" type=checkbox> draggable</label> <br>
        <label><input id="cbdeletable" type=checkbox> deletable</label> <br>
        <input type="submit" id="vchange" value="change value"> <br>
        size <input id="vsize" value="22" size="2" maxlength="2"> <br>
        labels: <label><input id="vnw" type=checkbox>NW</label>
                <label><input id="vne" type=checkbox>NE</label>
                <label><input id="vsw" type=checkbox>SW</label>
                <label><input id="vse" type=checkbox>SE</label> <br>
    </div>

    <script type="text/javascript">
        $("#cbdraggable").change( function() {
            if ($("#v1").hasClass("ui-draggable")) 
                $("#v1").draggable("destroy");
            else
                $("#v1").draggable({ containment: "parent" });
        });
        $("#cbdeletable").change( function() {
            $("#v1").toggleClass("vertex-deletable");
        });
        $("#vchange").on("click", function() {
            var x = $("#v1 .vertex-contents").html();
            $("#v1 .vertex-contents").html( 3 - x );
            refresh( $("#v1") );

            if ($("#v1").hasClass("ui-draggable"))
                $("#v1").draggable({ containment: "parent" });
        });
        $("#vsize").blur( function() {
            var x = $("#vsize").val();
            $("#v1").width(x).height(x);
        });
        var directions = ["nw","ne","sw","se"];
        var dircallback = function(dir) {
            return function() {
                if ($(".vertex-" + dir + "-label").length == 0) {
                    $("#v1").append("<div class='vertex-" + dir + "-label'>" + dir + "</div>");
                } else {
                    $(".vertex-" + dir + "-label").remove();
                }
            };
        }
        for (var i=0; i<4; i++) {
            var dir = directions[i];
            $("#v" + dir).change( dircallback(dir) );
        }
    </script>






    <h1>Controls Mockup</h1>

    <div class="container">
        <div id="vamonos-controls" class="vamonos-controls inactive">
            <button id="vamonos-stop" disabled>&#x25A0;</button>
            <button id="vamonos-prev" disabled>&#x25C0;</button>
            <button id="vamonos-next">&#x25B6;</button>
            <div id="vamonos-slider"></div> <span id="vamonos-framenumber"></span>
        </div>
    </div>

    <script type="text/javascript">
        var updatedisplay = function(ev,ui) {
            $("#vamonos-framenumber").html( (ui.value || 0)  + " / " + $("#vamonos-slider").slider("option", "max") );
        };

        $( "#vamonos-slider" ).slider({
            min:1, max:20, value:0,
            slide: updatedisplay,
            change: updatedisplay,
            create: updatedisplay
        });
        $( "#vamonos-prev" ).on( "click", function() {
            $("#vamonos-slider").slider("option", "value", 
                $("#vamonos-slider").slider("option", "value") - 1
            );
        }); 
        $( "#vamonos-next" ).on( "click", function() {
            $("#vamonos-stop").removeAttr("disabled");
            $("#vamonos-prev").removeAttr("disabled");
            $("#vamonos-controls").removeClass("inactive");
            $("#vamonos-slider").slider("option", "max", 20);
            $("#vamonos-slider").slider("option", "value", 
                $("#vamonos-slider").slider("option", "value") + 1
            );
        }); 
        $( "#vamonos-stop" ).on( "click", function() {
            $("#vamonos-stop").attr("disabled", "true");
            $("#vamonos-prev").attr("disabled", "true");
            $("#vamonos-controls").addClass("inactive");
            $("#vamonos-slider").slider("option", "max", 0);
            $("#vamonos-slider").slider("option", "value", 0);
            updatedisplay({},{});
        });

    </script>







    <h1>(Adjacency) Matrix Mockup</h1>

    <div id="mat" class="container">
        <table class="matrix">
            <tr>
                <th class="matrix-corner"></th>
                <th class="matrix-col-label">v1</th>
                <th class="matrix-col-label">v2</th>
                <th class="matrix-col-label">v3</th>
                <th class="matrix-col-label">v4</th>
                <th class="matrix-col-label">v5</th>
                <th class="matrix-corner"></th>
            </tr>
            <tr>
                <th class="matrix-row-label">v1</th>
                <td>-</td>
                <td>1</td>
                <td>2</td>
                <td>3</td>
                <td>3</td>
                <th class="matrix-row-annotation"></th>
            </tr>
            <tr>
                <th class="matrix-row-label">v2</th>
                <td>1</td>
                <td>-</td>
                <td>2</td>
                <td>3</td>
                <td>3</td>
                <th class="matrix-row-annotation">i</th>
            </tr>
            <tr>
                <th class="matrix-row-label">v3</th>
                <td>2</td>
                <td>2</td>
                <td>-</td>
                <td>3</td>
                <td>3</td>
                <th class="matrix-row-annotation"></th>
            </tr>
            <tr>
                <th class="matrix-row-label">v4</th>
                <td>3</td>
                <td>3</td>
                <td>3</td>
                <td>-</td>
                <td>3</td>
                <th class="matrix-row-annotation"></th>
            </tr>
            <tr>
                <th class="matrix-row-label">v5</th>
                <td>3</td>
                <td>3</td>
                <td>3</td>
                <td>3</td>
                <td>-</td>
                <th class="matrix-row-annotation"></th>
            </tr>
            <tr>
                <th class="matrix-corner"></th>
                <th class="matrix-col-annotation"></th>
                <th class="matrix-col-annotation"></th>
                <th class="matrix-col-annotation"></th>
                <th class="matrix-col-annotation">j</th>
                <th class="matrix-col-annotation"></th>
                <th class="matrix-corner"></th>
            </tr>
        </table>
    </div>

    <div class="container">
        <label><input id="cbhighlight" type=checkbox> row/col highlighting</label> <br>
        <label><input id="cbmatshade" type=checkbox> shading</label> <br>
        <input type="submit" id="mchange" value="change value"> <br>
    </div>

    <script type="text/javascript">
        $("#cbhighlight").change( function() {
            $("#mat tr:nth-child(3) td, #mat tr:nth-child(3) th").toggleClass("row-highlight");
            $("#mat tr td:nth-child(5), #mat tr th:nth-child(5)").toggleClass("col-highlight");
        });

        $("#cbmatshade").change( function() {
            $("#mat tr:nth-child(2) td:lt(1)").toggleClass("shaded");
            $("#mat tr:nth-child(3) td:lt(2)").toggleClass("shaded");
            $("#mat tr:nth-child(4) td:lt(3)").toggleClass("shaded");
            $("#mat tr:nth-child(5) td:lt(4)").toggleClass("shaded");
            $("#mat tr:nth-child(6) td:lt(5)").toggleClass("shaded");
        });
        $("#mchange").on("click", function() {
            var c1 = $("#mat tr:nth-child(3) td:nth-child(5)");
            var c2 = $("#mat tr:nth-child(5) td:nth-child(3)");

            var x = c1.html();
            c1.html(7 - x);
            c2.html(7 - x);

            c1.addClass("changed");
            c2.addClass("changed");

            refresh( c1 );
            refresh( c2 );
        });
    </script>



</head></html>

<html><head>

    <link rel="stylesheet" href="../lib/vamonos.css">
    <link rel="stylesheet" href="../demos/demos.css">
    <script type="text/javascript" src="../deps/jquery.min.js"></script>
    <script type="text/javascript" src="../deps/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../lib/vamonos.js"></script>

</head><body>

    <div class="vamonos">
        <div id="controls"></div>
        <br>
        <div class="container" id="array"></div>
        <br>
        <div class="container" id="matrix"></div>
    </div>

    <script type="text/javascript">
        var myviz = new Vamonos.Visualizer({
            widgets: [

                new Vamonos.Widget.Array({
                    container: "array",
                    varName: "A",
                    defaultInput: ["a","b","c","d", "e","f","g"],
                    cellFormat: function (x) { return x; },
                    cellParse: function (x) { return x; }
                }),

                new Vamonos.Widget.Matrix({
                    container: "matrix",
                    varName: "M",
                    cssRules: [
                        ["row", "<", "col", "shaded"],
                        ["row", "=", "x", "row-highlight"],
                        ["col", "=", "y", "col-highlight"]
                    ],
                    showIndices: [["row","x"], ["col","y"]],
                }),

                new Vamonos.Widget.Hardcoded({ _breakpoints: [1,2,3] }),

                new Vamonos.Widget.Controls({
                    container: "controls"
                })
            ],

//            autoStart: true,

            algorithm: function (viz) {
                console.log(viz.stash.M);
                with (viz.stash) {
                    M = {};
                    for (var i=0; i<A.length; i++) {
                        viz.line(1);
                        x = A[i];
                        M[x] = {};
                        for (var j=0; j<A.length; j++) {
                            viz.line(2);
                            y = A[j];
                            viz.line(3);
                            M[x][y] = x+y;
                        }
                    }
                }
            }
        });

    </script>

</body>
</html>
